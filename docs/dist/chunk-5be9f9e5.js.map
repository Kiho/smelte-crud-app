{"version":3,"file":"chunk-5be9f9e5.js","sources":["../../src/utils/request.ts","../../src/services/appService.ts"],"sourcesContent":["ï»¿const apiUrl ='https://safe-springs-35306.herokuapp.com/';\n\nclass Requests {\n    static async makeRequest(url, method, headers, body?) {\n        let request: RequestInit = {\n            mode: 'cors',\n            method,\n            headers\n        };\n        if (body) {\n            request.body = JSON.stringify(body);\n        }\n\n        var res = await fetch(apiUrl + url, request);\n        var contentType = res.headers.get(\"content-type\");\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n            return res.json();\n        } else {\n            return res.text();\n        }\n    }\n    static makeHeaders() {\n        const headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n        return headers;\n    }\n    static async get(url) {\n        return new Promise(async (res, rej) => {\n            try {\n                const headers = Requests.makeHeaders();\n                const json = await Requests.makeRequest(url, 'GET', headers);\n                res(json);\n            } catch (err) {\n                rej(err);\n            }\n        });\n    }\n    static async post(url, body) {\n        return new Promise(async (res, rej) => {\n            try {\n                const headers = Requests.makeHeaders();\n                const json = await Requests.makeRequest(url, 'POST', headers, body);\n                res(json);\n            } catch (err) {\n                rej(err);\n            }\n        });\n    }\n    static async put(url, body) {\n        return new Promise(async (res, rej) => {\n            try {\n                const headers = Requests.makeHeaders();\n                const json = await Requests.makeRequest(url, 'PUT', headers, body);\n                res(json);\n            } catch (err) {\n                rej(err);\n            }\n        });\n    }\n    static async delete(url, body) {\n        return new Promise(async (res, rej) => {\n            try {\n                const headers = Requests.makeHeaders();\n                const json = await Requests.makeRequest(url, 'DELETE', headers, body);\n                res(json);\n            } catch (err) {\n                rej(err);\n            }\n        });\n    }\n}\n\nexport default Requests;","import Requests from '../utils/request';\n\nexport default class AppService {\n\n    static async getList(path: string): Promise<any[]> {\n        return Requests.get(`api/${path}`) as Promise<any[]>;\n    }\n\n    static async save(path: string, item, fnSave): Promise<{}> {\n        if (item.id) {\n            return Requests.put(`api/${path}`, item).then(fnSave);\n        } else {\n            return Requests.post(`api/${path}`, item).then(fnSave);\n        }        \n    }\n}"],"names":["Requests","url","method","headers","body","request","mode","JSON","stringify","fetch","res","_a","contentType","get","indexOf","json","text","Headers","append","Promise","rej","makeHeaders","makeRequest","err_1","err_2","err_3","err_4","AppService","path","item","fnSave","id","put","then","post"],"mappings":"+CAAC,iBAED,cAoEA,OAnEiBA,cAAb,SAAyBC,EAAKC,EAAQC,EAASC,qGAUjC,OATNC,EAAuB,CACvBC,KAAM,OACNJ,SACAC,WAEAC,IACAC,EAAQD,KAAOG,KAAKC,UAAUJ,OAGlBK,MAbT,4CAawBR,EAAKI,WAEpC,OAFIK,EAAMC,UACNC,EAAcF,EAAIP,QAAQU,IAAI,mBAC8B,IAA7CD,EAAYE,QAAQ,uBAC5BJ,EAAIK,WAEJL,EAAIM,cAGZhB,cAAP,WACI,IAAMG,EAAU,IAAIc,QAEpB,OADAd,EAAQe,OAAO,eAAgB,oBACxBf,GAEEH,MAAb,SAAiBC,+EACb,SAAO,IAAIkB,QAAQ,SAAOT,EAAKU,kGAGV,6BADPjB,EAAUH,EAASqB,iBACNrB,EAASsB,YAAYrB,EAAK,MAAOE,kBAA9CY,EAAOJ,SACbD,EAAIK,kCAEJK,EAAIG,uCAIHvB,OAAb,SAAkBC,EAAKG,+EACnB,SAAO,IAAIe,QAAQ,SAAOT,EAAKU,kGAGV,6BADPjB,EAAUH,EAASqB,iBACNrB,EAASsB,YAAYrB,EAAK,OAAQE,EAASC,kBAAxDW,EAAOJ,SACbD,EAAIK,kCAEJK,EAAII,uCAIHxB,MAAb,SAAiBC,EAAKG,+EAClB,SAAO,IAAIe,QAAQ,SAAOT,EAAKU,kGAGV,6BADPjB,EAAUH,EAASqB,iBACNrB,EAASsB,YAAYrB,EAAK,MAAOE,EAASC,kBAAvDW,EAAOJ,SACbD,EAAIK,kCAEJK,EAAIK,uCAIHzB,SAAb,SAAoBC,EAAKG,+EACrB,SAAO,IAAIe,QAAQ,SAAOT,EAAKU,kGAGV,6BADPjB,EAAUH,EAASqB,iBACNrB,EAASsB,YAAYrB,EAAK,SAAUE,EAASC,kBAA1DW,EAAOJ,SACbD,EAAIK,kCAEJK,EAAIM,yDChEpB,cAaA,OAXiBC,UAAb,SAAqBC,oEACjB,SAAO5B,EAASa,IAAI,OAAOe,SAGlBD,OAAb,SAAkBC,EAAcC,EAAMC,oEAClC,OAAID,EAAKE,MACE/B,EAASgC,IAAI,OAAOJ,EAAQC,GAAMI,KAAKH,OAEvC9B,EAASkC,KAAK,OAAON,EAAQC,GAAMI,KAAKH"}